<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Gadget3 suitability formulae — suitability • gadget3</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Gadget3 suitability formulae — suitability"><meta property="og:description" content="Formula-returning functions describing length suitability relationships."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gadget3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.14-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction-single-stock.html">Introduction to gadget3: A single stock model</a>
    </li>
    <li>
      <a href="../articles/incorporating-observation-data.html">Incorporating observation data into models</a>
    </li>
    <li>
      <a href="../articles/multiple-substocks.html">Modelling maturity &amp; sex with multiple stocks</a>
    </li>
    <li>
      <a href="../articles/model-customisation.html">Model customisation</a>
    </li>
    <li>
      <a href="../articles/random-effect-recruitment.html">Random effects &amp; projections</a>
    </li>
    <li>
      <a href="../articles/model-debugging.html">Debugging a gadget3 model</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/model-structure.html">Structure of a gadget3 model</a>
    </li>
    <li>
      <a href="../articles/writing_actions.html">Writing G3 Actions</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gadget-framework/gadget3/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Gadget3 suitability formulae</h1>

    <div class="hidden name"><code>suitability.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Formula-returning functions describing length suitability relationships.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span></span>
<span>    alpha <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">"alpha"</span>, by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>    l50 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">"l50"</span>, by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>    by_stock <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    by_predator <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_andersen</span><span class="op">(</span><span class="va">p0</span>, <span class="va">p1</span>, <span class="va">p2</span>, p3 <span class="op">=</span> <span class="va">p4</span>, <span class="va">p4</span>, p5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span> <span class="va">predator_length</span> <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_andersenfleet</span><span class="op">(</span></span>
<span>        p0 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p0'</span>, value <span class="op">=</span> <span class="fl">0</span>, optimise <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span><span class="op">)</span>,</span>
<span>        p1 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p1'</span>, value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>        p2 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p2'</span>, value <span class="op">=</span> <span class="fl">1</span>, optimise <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span><span class="op">)</span>,</span>
<span>        p3 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p3'</span>, value <span class="op">=</span> <span class="fl">0.1</span>, exponentiate <span class="op">=</span> <span class="va">exponentiate</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>        p4 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p4'</span>, value <span class="op">=</span> <span class="fl">0.1</span>, exponentiate <span class="op">=</span> <span class="va">exponentiate</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>        p5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span> <span class="va">stock__maxmidlen</span> <span class="op">)</span>,</span>
<span>        by_stock <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        by_predator <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        exponentiate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_gamma</span><span class="op">(</span><span class="va">alpha</span>, <span class="va">beta</span>, <span class="va">gamma</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_exponential</span><span class="op">(</span><span class="va">alpha</span>, <span class="va">beta</span>, <span class="va">gamma</span>, <span class="va">delta</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_straightline</span><span class="op">(</span><span class="va">alpha</span>, <span class="va">beta</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_constant</span><span class="op">(</span></span>
<span>    suit <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">"suit"</span>, by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>    by_stock <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    by_predator <span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_richards</span><span class="op">(</span><span class="va">p0</span>, <span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, <span class="va">p4</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-suit-alpha-beta-gamma-delta-l-p-p-p-p-p-p-">suit,alpha,beta,gamma,delta,l50,p0,p1,p2,p3,p4,p5<a class="anchor" aria-label="anchor" href="#arg-suit-alpha-beta-gamma-delta-l-p-p-p-p-p-p-"></a></dt>
<dd><p><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> substituted into calcuations, see below.</p></dd>

  <dt id="arg-by-stock">by_stock<a class="anchor" aria-label="anchor" href="#arg-by-stock"></a></dt>
<dd><p>Change the default parameterisation (e.g. to be by 'species'), passed through to default calls to
    <code><a href="params.html">g3_parameterized</a></code>.</p></dd>

  <dt id="arg-by-predator">by_predator<a class="anchor" aria-label="anchor" href="#arg-by-predator"></a></dt>
<dd><p>Change the default parameterisation (e.g. to be by 'fleet'), passed through to default calls to
    <code><a href="params.html">g3_parameterized</a></code>.</p></dd>

  <dt id="arg-exponentiate">exponentiate<a class="anchor" aria-label="anchor" href="#arg-exponentiate"></a></dt>
<dd><p>Exponentiate parameters,passed through to default calls to
    <code><a href="params.html">g3_parameterized</a></code>.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>When using these to describe a predator/prey relationship, the stock midlength \(l\)
will refer to the prey midlength.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>All functions return a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> for use in <code><a href="action_predate.html">g3a_predate_fleet</a></code>'s <var>suitabilities</var> argument:</p><div class="section">
<h3 id="g-suitability-exponentiall-">g3_suitability_exponentiall50<a class="anchor" aria-label="anchor" href="#g-suitability-exponentiall-"></a></h3>
<p>A logarithmic dependence on the length of the prey as given by the following equation
    (note that the prey length dependence is actually dependant on the difference between the length of the prey and \(l_{50}\)):</p>
<p>$$
      \frac{1}{ 1 + e^{-\alpha (l - l_{50})} }
    $$</p><dl><dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(l_{50}\)</dt>
<dd><p>Length of the stock with a 50% probability of predation, from parameter <var>l50</var></p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-andersen">g3_suitability_andersen<a class="anchor" aria-label="anchor" href="#g-suitability-andersen"></a></h3>
<p>This is a more general suitability function that is dependant on the ratio of the predator length to the prey length as given by the following equation:</p>
<p>If \(p_3 = p_4\):
    $$
      p_0 + p_2 e^{-\frac{(x - p_1)^2}{p_4}}
    $$</p>
<p>Otherwise:</p>
<p>$$
      p_0
      + p_2 e^{-\frac{(x - p_1)^2}{p_4}} * \min(\max(p_1 - x, 0), 1)
      + p_2 e^{-\frac{(x - p_1)^2}{p_3}} * \min(\max(x, 0), 1)
    $$
    ...i.e if \(\log\frac{L}{l} &lt;= p_1\) then \(p_3\) used in place of \(p_4\).</p>
<p></p><dl><dt>\(x\)</dt>
<dd><p>\(\log\frac{p_5}{l}\)</p></dd>

      <dt>\(L\)</dt>
<dd><p>Vector of predator midlength for each lengthgroup</p></dd>

      <dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(p_0\) .. \(p_4\)</dt>
<dd><p>Function parameter <var>p0</var> .. <var>p4</var></p></dd>

      <dt>\(p_5\)</dt>
<dd><p>Function parameter <var>p5</var>, if unspecified uses \(L\), Vector of predator midlength for each lengthgroup.</p></dd>


</dl><p>NB: Specifying \(p_5\) is equivalent to using the <code>andersenfleet</code> function in gadget2.</p>
</div><p></p><div class="section">
<h3 id="g-suitability-andersenfleet">g3_suitability_andersenfleet<a class="anchor" aria-label="anchor" href="#g-suitability-andersenfleet"></a></h3>
<p>A simplified version of <code>g3_suitability_andersen</code>, suitable for predation by fleets,
    as the defaults do not rely on the predator's length.</p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-gamma">g3_suitability_gamma<a class="anchor" aria-label="anchor" href="#g-suitability-gamma"></a></h3>
<p>This is a suitability function that is more suitable for use when considering the predation by a fleet,
    where the parameter \(\gamma\) would represent the size of the mesh used by the fleet (specified in centimetres).</p>
<p>$$
      (\frac{l}{(\alpha - 1)\beta\gamma}) ^ {(\alpha - 1) e^{\alpha - 1 - \frac{l}{\beta\gamma}}}
    $$</p><dl><dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(\alpha\)</dt>
<dd><p>Function parameter <var>alpha</var></p></dd>

      <dt>\(\beta\)</dt>
<dd><p>Function parameter <var>beta</var></p></dd>

      <dt>\(\gamma\)</dt>
<dd><p>Function parameter <var>gamma</var></p></dd>


</dl><p>This is a suitability function that is more suitable for use when
    considering the predation by a fleet, where the parameter \(\gamma\)
    would represent the size of the mesh used by the fleet (specified in
    centimetres).</p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-exponential">g3_suitability_exponential<a class="anchor" aria-label="anchor" href="#g-suitability-exponential"></a></h3>
<p>This is a suitability function that has a logarithmic dependence on both the length of the predator and the length of the prey as given by the following equation:</p>
<p>$$
      \frac{\delta}{1 + e^{-\alpha - \beta l - \gamma L}}
    $$</p><dl><dt>\(L\)</dt>
<dd><p>Vector of predator midlength for each lengthgroup</p></dd>

      <dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(\alpha\)</dt>
<dd><p>Function parameter <var>alpha</var></p></dd>

      <dt>\(\beta\)</dt>
<dd><p>Function parameter <var>beta</var></p></dd>

      <dt>\(\gamma\)</dt>
<dd><p>Function parameter <var>gamma</var></p></dd>

      <dt>\(\delta\)</dt>
<dd><p>Function parameter <var>delta</var></p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-straightline">g3_suitability_straightline<a class="anchor" aria-label="anchor" href="#g-suitability-straightline"></a></h3>
<p>Returns a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> for use in predation function's <var>suitabilities</var> argument:</p>
<p>$$
      \alpha + \beta l
    $$</p><dl><dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(\alpha\)</dt>
<dd><p>Function parameter <var>alpha</var></p></dd>

      <dt>\(\beta\)</dt>
<dd><p>Function parameter <var>beta</var></p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-constant">g3_suitability_constant<a class="anchor" aria-label="anchor" href="#g-suitability-constant"></a></h3>
<p>Returns a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> for use in predation function's <var>suitabilities</var> argument:</p>
<p>$$
      \alpha
    $$</p><dl><dt>\(\alpha\)</dt>
<dd><p>Function parameter <var>suit</var>, i.e. the "prey.predator.suit" model parameter by default</p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-richards">g3_suitability_richards<a class="anchor" aria-label="anchor" href="#g-suitability-richards"></a></h3>
<p>Returns a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> for use in predation function's <var>suitabilities</var> argument:</p>
<p>$$
      {\big( \frac{p_3}{1 + e^{-p_0 - p_1 l - p_2 L}} \big)}^{\frac{1}{p_4}}
    $$</p><dl><dt>\(L\)</dt>
<dd><p>Vector of predator midlength for each lengthgroup</p></dd>

      <dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(p_0\) .. \(p_4\)</dt>
<dd><p>Function parameter <var>p0</var> .. <var>p4</var></p></dd>


</dl><p>This is an extension to g3_suitability_exponential.</p>
</div>

    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="https://gadget-framework.github.io/gadget2/userguide/chap-stock.html#sec-suitability" class="external-link">https://gadget-framework.github.io/gadget2/userguide/chap-stock.html#sec-suitability</a>,</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">ling_imm</span> <span class="op">&lt;-</span> <span class="fu"><a href="stock.html">g3_stock</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>species <span class="op">=</span> <span class="st">'ling'</span>, <span class="st">'imm'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">156</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="stock_age.html">g3s_age</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ling_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="stock.html">g3_stock</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>species <span class="op">=</span> <span class="st">'ling'</span>, <span class="st">'mat'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">156</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="stock_age.html">g3s_age</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">igfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="stock.html">g3_fleet</a></span><span class="op">(</span><span class="st">'igfs'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">igfs_landings</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>year<span class="op">=</span><span class="fl">1990</span><span class="op">:</span><span class="fl">1994</span>, step<span class="op">=</span><span class="fl">2</span>, area<span class="op">=</span><span class="fl">1</span>, total_weight<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            area_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>`1` <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate a fleet predation action using g3_suitability_exponentiall50</span></span></span>
<span class="r-in"><span><span class="va">predate_action</span> <span class="op">&lt;-</span> <span class="fu"><a href="action_predate.html">g3a_predate_fleet</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">igfs</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">ling_imm</span>, <span class="va">ling_mat</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    suitabilities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        ling_imm <span class="op">=</span> <span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'lln.alpha'</span>, by_stock <span class="op">=</span> <span class="st">'species'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'lln.l50'</span>, by_stock <span class="op">=</span> <span class="st">'species'</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        ling_mat <span class="op">=</span> <span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'lln.alpha'</span>, by_stock <span class="op">=</span> <span class="st">'species'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'lln.l50'</span>, by_stock <span class="op">=</span> <span class="st">'species'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    catchability <span class="op">=</span> <span class="fu"><a href="action_predate.html">g3a_predate_catchability_totalfleet</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="timedata.html">g3_timeareadata</a></span><span class="op">(</span><span class="st">'igfs_landings'</span>, <span class="va">igfs_landings</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can use g3_eval to directly calculate values for a stock:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="eval.html">g3_eval</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.2</span>, l50 <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stock <span class="op">=</span> <span class="fu"><a href="stock.html">g3_stock</a></span><span class="op">(</span><span class="st">'x'</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         0:10        10:20        20:30        30:40        40:50        50:60 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.670142e-05 1.233946e-04 9.110512e-04 6.692851e-03 4.742587e-02 2.689414e-01 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        60:70        70:80        80:90       90:100      100:Inf </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7.310586e-01 9.525741e-01 9.933071e-01 9.990889e-01 9.998766e-01 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "force_vector" "numeric"     </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Plots</span></span></span>
<span class="r-in"><span><span class="va">suit_plot</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">suit_f</span>,</span></span>
<span class="r-in"><span>    <span class="va">stock</span> <span class="op">=</span> <span class="fu"><a href="stock.html">g3_stock</a></span><span class="op">(</span><span class="st">'x'</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="va">predator_length</span> <span class="op">=</span> <span class="fl">140</span>,</span></span>
<span class="r-in"><span>    <span class="va">cols</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span>, cex.main <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="kw">for</span> <span class="op">(</span><span class="va">a</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">cols</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/graphics/curve.html" class="external-link">curve</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="eval.html">g3_eval</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="va">suit_f</span>,</span></span>
<span class="r-in"><span>      a <span class="op">=</span> <span class="va">a</span>,</span></span>
<span class="r-in"><span>      stock <span class="op">=</span> <span class="va">stock</span>,</span></span>
<span class="r-in"><span>      predator_length <span class="op">=</span> <span class="va">predator_length</span> <span class="op">)</span><span class="op">[</span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%/%</a></span> <span class="fu"><a href="stock.html">g3_stock_def</a></span><span class="op">(</span><span class="va">stock</span>, <span class="st">'dl'</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fu"><a href="stock.html">g3_stock_def</a></span><span class="op">(</span><span class="va">stock</span>, <span class="st">'minlen'</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="stock.html">g3_stock_def</a></span><span class="op">(</span><span class="va">stock</span>, <span class="st">'minlen'</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    col <span class="op">=</span> <span class="va">cols</span><span class="op">[[</span><span class="va">a</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/deparse.html" class="external-link">deparse1</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">sys.call</a></span><span class="op">(</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, xlab <span class="op">=</span> <span class="st">""</span>, ylab <span class="op">=</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>    add <span class="op">=</span> <span class="op">(</span><span class="va">a</span> <span class="op">!=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span>alpha <span class="op">=</span> <span class="op">~</span><span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span>, l50 <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="fu">g3_suitability_andersen</span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>, <span class="fl">1</span>, p3 <span class="op">=</span> <span class="op">~</span><span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">140</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="fu">g3_suitability_andersen</span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0.1</span>, p4 <span class="op">=</span> <span class="op">~</span><span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span>, <span class="fl">140</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="fu">g3_suitability_gamma</span><span class="op">(</span>alpha <span class="op">=</span> <span class="op">~</span><span class="fl">2</span> <span class="op">+</span> <span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span>, beta <span class="op">=</span> <span class="fl">1</span>, gamma <span class="op">=</span> <span class="fl">40</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="fu">g3_suitability_exponential</span><span class="op">(</span><span class="fl">0</span>, <span class="op">~</span><span class="fl">0.01</span> <span class="op">*</span> <span class="va">a</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="fu">g3_suitability_straightline</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.1</span>, beta <span class="op">=</span> <span class="op">~</span><span class="fl">0.01</span> <span class="op">*</span> <span class="va">a</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="fu">g3_suitability_constant</span><span class="op">(</span><span class="op">~</span><span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="fu">g3_suitability_richards</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.05</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="op">~</span><span class="fl">0.1</span> <span class="op">*</span> <span class="va">a</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jamie Lentin, Bjarki Thor Elvarsson, William Butler.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

