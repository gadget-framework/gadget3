<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • gadget3</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gadget3</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.12-1-999</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction-single-stock.html">Introduction to gadget3: A single stock model</a></li>
    <li><a class="dropdown-item" href="../articles/incorporating-observation-data.html">Incorporating observation data into models</a></li>
    <li><a class="dropdown-item" href="../articles/multiple-substocks.html">Modelling maturity &amp; sex with multiple stocks</a></li>
    <li><a class="dropdown-item" href="../articles/model-customisation.html">Model customisation</a></li>
    <li><a class="dropdown-item" href="../articles/random-effects.html">Spawning &amp; Random effects</a></li>
    <li><a class="dropdown-item" href="../articles/model-debugging.html">Debugging a gadget3 model</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced</h6></li>
    <li><a class="dropdown-item" href="../articles/model-structure.html">Structure of a gadget3 model</a></li>
    <li><a class="dropdown-item" href="../articles/writing_actions.html">Writing G3 Actions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gadget-framework/gadget3/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/gadget-framework/gadget3/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12-1-999" id="gadget3-012-1-999">gadget3 0.12-1-999:<a class="anchor" aria-label="anchor" href="#gadget3-012-1-999"></a></h2>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.12-0" id="gadget3-012-0">gadget3 0.12-0:<a class="anchor" aria-label="anchor" href="#gadget3-012-0"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-12-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-12-0"></a></h3>
<ul><li>
<code><a href="../reference/action_spawn.html">g3a_spawn()</a></code> splits offspring into multiple stocks correctly</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-12-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-12-0"></a></h3>
<ul><li>Split likelihood distribution by predator_length / predator_age / predator_tag <a href="https://github.com/gadget-framework/gadget3/issues/154" class="external-link">#154</a></li>
<li>Predation support, see <code><a href="../reference/action_predate.html">?g3a_predate</a></code> / <code><a href="../reference/action_predate.html">?g3a_predate_catchability_predator</a></code> <a href="https://github.com/gadget-framework/gadget3/issues/29" class="external-link">#29</a></li>
<li>
<code>g3a_otherfood</code>, <code>g3a_otherfood_normalparam</code>, <code>g3a_otherfood_normalcv</code> <a href="https://github.com/gadget-framework/gadget3/issues/155" class="external-link">#155</a></li>
<li>Support length transform_fs in <code>g3l_catchdistribution</code> <a href="https://github.com/gadget-framework/gadget3/issues/95" class="external-link">#95</a></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.11-0" id="gadget3-011-0">gadget3 0.11-0:<a class="anchor" aria-label="anchor" href="#gadget3-011-0"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-11-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-11-0"></a></h3>
<ul><li>g3_to_r() output can be debugged in R-Studio</li>
<li>Unknown stock names in likelihood data now an error</li>
<li>
<code>g3l_distribution_surveyindices_*()</code> can now be broken down by age without error</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-11-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-11-0"></a></h3>
<ul><li>Add <code>g3_parameterized('x', by_year = 1998:2099)</code> to override year range for parameters</li>
<li>Add <code>g3a_initialconditions_normalcv</code> for initialconditions driven by a <code>lencv</code> parameter</li>
<li>Add <code>g3a_renewal_normalcv</code> for initialconditions driven by a <code>lencv</code> parameter</li>
<li>
<code>by_predator</code> parameter for <code>g3_parameterized</code>
</li>
<li>Defaults for <code>g3_suitability_exponentiall50</code>
</li>
<li>Support cut() formatted character columns as well as factor columns in likelihood observation data.</li>
<li>Add <code><a href="../reference/init_val.html">g3_init_val()</a></code> helper, to replace <code>gadgetutils::g3_init_guess()</code>
</li>
<li>Add <code><a href="../reference/stock_areas.html">g3_areas()</a></code> helper to create numbered area vectors</li>
<li>Add <code><a href="../reference/likelihood_distribution.html">g3_distribution_preview()</a></code> helper to see how observatation data will be converted to array</li>
<li>
<code>period</code> now optional for <code><a href="../reference/likelihood_random.html">g3l_random_walk()</a></code>, <code><a href="../reference/likelihood_random.html">g3l_random_dnorm()</a></code>
</li>
<li>
<code><a href="../reference/likelihood_bounds.html">g3l_bounds_penalty()</a></code> can now generate bounds from actions which update automatically</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-11-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-11-0"></a></h3>
<ul><li>
<code>g3l_distribution_surveyindices_*</code> now default to <code>beta = 1</code>, set <code>beta = NULL</code> to restore previous behaviour.</li>
<li>
<code>stock_param</code>() &amp; <code>stock_param_table</code>() replaced with <code>stock_prepend</code>()</li>
<li>Remove unused <code>g3_to_tmb(adreport_re)</code> option <a href="https://github.com/gadget-framework/gadget3/issues/60" class="external-link">#60</a></li>
<li>Naturalmortality <code>M</code> now by-age by default <a href="https://github.com/gadget-framework/gadget3/issues/113" class="external-link">#113</a></li>
<li>
<code><a href="../reference/suitability.html">g3_suitability_andersenfleet()</a></code> now uses <code>by_predator = TRUE</code> by default <a href="https://github.com/gadget-framework/gadget3/issues/133" class="external-link">#133</a></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10-0" id="gadget3-010-0">gadget3 0.10-0:<a class="anchor" aria-label="anchor" href="#gadget3-010-0"></a></h2>
<div class="section level3">
<h3 id="new-features-0-10-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-10-0"></a></h3>
<ul><li>Add <code>g3_parameterized('x', by_step = TRUE)</code> for seasonal parameters <a href="https://github.com/gadget-framework/gadget3/issues/115" class="external-link">#115</a></li>
<li>Support R factor levels as well as MFDB-style attributes for likelihood observation data. This means dplyr <code>group_by(length = cut(...))</code> can be used as well as MFDB for groupings <a href="https://github.com/gadget-framework/gadget3/issues/112" class="external-link">#112</a></li>
<li>Parameterised defaults for <code>g3l_understocking</code>(), <code>g3a_naturalmortality</code>(), <code>g3a_renewal_normalparam</code>()</li>
<li>Add <code>g3a_renewal_vonb_t0</code>() &amp; <code>g3a_renewal_vonb_recl</code>(), with <code>g3a_renewal_vonb</code>() being an alias to the latter</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-10-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-10-0"></a></h3>
<ul><li>g3s_modeltime() (used for history) now works when final_year_steps set</li>
<li>Stop assuming 1-dimensional R arrays should be TMB vectors.</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-10-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-10-0"></a></h3>
<ul><li>Remove <code>scale = 0.001</code> from default <code>K</code> parameters in g3a_grow, g3a_renew_*</li>
<li>
<code>g3a_renewal_vonb_t0</code>() is now the default mean_f for <code>*_normalparam</code>()</li>
<li>
<code>g3a_initialconditions_normalparam</code>() now offsets any <code>age</code> in <code>mean_f</code> (i.e. the VonB formula) by <code>cur_step_size</code>, in effect running at step -1.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-0" id="gadget3-09-0">gadget3 0.9-0:<a class="anchor" aria-label="anchor" href="#gadget3-09-0"></a></h2><p class="text-muted">CRAN release: 2023-05-18</p>
<div class="section level3">
<h3 id="bug-fixes-0-9-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-0"></a></h3>
<ul><li>
<code><a href="../reference/suitability.html">g3_suitability_andersen()</a></code> now produces sensible values - <a href="https://github.com/gadget-framework/gadget3/issues/108" class="external-link uri">https://github.com/gadget-framework/gadget3/issues/108</a>
</li>
<li>
<code><a href="../reference/action_age.html">g3a_age()</a></code> now supports stocks with a single age (i.e. minage == maxage)</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-9-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-9-0"></a></h3>
<ul><li>Add <code>recage</code> parameter to <code>g3a_renewal_vonb</code> / <code>g3a_renewal_initabund</code>
</li>
<li>Add <code><a href="../reference/suitability.html">g3_suitability_andersenfleet()</a></code>, a fleet-specialised andsersen suitability function.</li>
<li>Make <code><a href="../reference/stock.html">g3_is_stock()</a></code> public</li>
<li>
<code><a href="../reference/eval.html">g3_eval()</a></code>, to evaluate snippets of a gadget3 model.</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-9-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-9-0"></a></h3>
<ul><li><p><code>g3l_distribution_*(transform_fs = ...)</code> now happens before aggregation, not after. Any matrix used now has to be expressed in terms of the stock, not aggregated age.</p></li>
<li><p><code><a href="../reference/language.html">g3_param_table()</a></code> now returns NaN (and warns) on a missing value, instead of aborting.</p></li>
<li><p><code>optim(g3_tmb_par(...))</code> is now an error. When optimising, always use <code>obj.fun$par</code>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-9-0-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-9-0-1"></a></h3>
<ul><li>Support <code>as.vector(array)</code> in TMB formulas, so arrays can be used with TMB vectorized functions, e.g. <code>pnorm(as.vector(ar[,1]))</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8-0" id="gadget3-08-0">gadget3 0.8-0:<a class="anchor" aria-label="anchor" href="#gadget3-08-0"></a></h2>
<div class="section level3">
<h3 id="new-features-0-8-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-8-0"></a></h3>
<ul><li>Initial CRAN release</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jamie Lentin, Bjarki Thor Elvarsson, William Butler.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

