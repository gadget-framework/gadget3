<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Gadget3 suitability formulae — suitability • gadget3</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Gadget3 suitability formulae — suitability"><meta name="description" content="Formula-returning functions describing length suitability relationships."><meta property="og:description" content="Formula-returning functions describing length suitability relationships."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gadget3</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.12-1-999</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction-single-stock.html">Introduction to gadget3: A single stock model</a></li>
    <li><a class="dropdown-item" href="../articles/incorporating-observation-data.html">Incorporating observation data into models</a></li>
    <li><a class="dropdown-item" href="../articles/multiple-substocks.html">Modelling maturity &amp; sex with multiple stocks</a></li>
    <li><a class="dropdown-item" href="../articles/model-customisation.html">Model customisation</a></li>
    <li><a class="dropdown-item" href="../articles/random-effects.html">Spawning &amp; Random effects</a></li>
    <li><a class="dropdown-item" href="../articles/model-debugging.html">Debugging a gadget3 model</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced</h6></li>
    <li><a class="dropdown-item" href="../articles/model-structure.html">Structure of a gadget3 model</a></li>
    <li><a class="dropdown-item" href="../articles/writing_actions.html">Writing G3 Actions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gadget-framework/gadget3/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Gadget3 suitability formulae</h1>

      <div class="d-none name"><code>suitability.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Formula-returning functions describing length suitability relationships.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span></span>
<span>    alpha <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">"alpha"</span>, by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>    l50 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">"l50"</span>, by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>    by_stock <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    by_predator <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_andersen</span><span class="op">(</span><span class="va">p0</span>, <span class="va">p1</span>, <span class="va">p2</span>, p3 <span class="op">=</span> <span class="va">p4</span>, <span class="va">p4</span>, p5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span> <span class="va">predator_length</span> <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_andersenfleet</span><span class="op">(</span></span>
<span>        p0 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p0'</span>, value <span class="op">=</span> <span class="fl">0</span>, optimise <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span><span class="op">)</span>,</span>
<span>        p1 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p1'</span>, value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>        p2 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p2'</span>, value <span class="op">=</span> <span class="fl">1</span>, optimise <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span><span class="op">)</span>,</span>
<span>        p3 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p3'</span>, value <span class="op">=</span> <span class="fl">0.1</span>, exponentiate <span class="op">=</span> <span class="va">exponentiate</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>        p4 <span class="op">=</span> <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'andersen.p4'</span>, value <span class="op">=</span> <span class="fl">0.1</span>, exponentiate <span class="op">=</span> <span class="va">exponentiate</span>,</span>
<span>                              by_stock <span class="op">=</span> <span class="va">by_stock</span>, by_predator <span class="op">=</span> <span class="va">by_predator</span><span class="op">)</span>,</span>
<span>        p5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span> <span class="va">stock__maxmidlen</span> <span class="op">)</span>,</span>
<span>        by_stock <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        by_predator <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        exponentiate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_gamma</span><span class="op">(</span><span class="va">alpha</span>, <span class="va">beta</span>, <span class="va">gamma</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_exponential</span><span class="op">(</span><span class="va">alpha</span>, <span class="va">beta</span>, <span class="va">gamma</span>, <span class="va">delta</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_straightline</span><span class="op">(</span><span class="va">alpha</span>, <span class="va">beta</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_constant</span><span class="op">(</span><span class="va">alpha</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">g3_suitability_richards</span><span class="op">(</span><span class="va">p0</span>, <span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p3</span>, <span class="va">p4</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-alpha-beta-gamma-delta-l-p-p-p-p-p-p-">alpha,beta,gamma,delta,l50,p0,p1,p2,p3,p4,p5<a class="anchor" aria-label="anchor" href="#arg-alpha-beta-gamma-delta-l-p-p-p-p-p-p-"></a></dt>
<dd><p><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> substituted into calcuations, see below.</p></dd>

  <dt id="arg-by-stock">by_stock<a class="anchor" aria-label="anchor" href="#arg-by-stock"></a></dt>
<dd><p>Change the default parameterisation (e.g. to be by 'species'), passed through to default calls to
    <code><a href="params.html">g3_parameterized</a></code>.</p></dd>

  <dt id="arg-by-predator">by_predator<a class="anchor" aria-label="anchor" href="#arg-by-predator"></a></dt>
<dd><p>Change the default parameterisation (e.g. to be by 'fleet'), passed through to default calls to
    <code><a href="params.html">g3_parameterized</a></code>.</p></dd>

  <dt id="arg-exponentiate">exponentiate<a class="anchor" aria-label="anchor" href="#arg-exponentiate"></a></dt>
<dd><p>Exponentiate parameters,passed through to default calls to
    <code><a href="params.html">g3_parameterized</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When using these to describe a predator/prey relationship, the stock midlength \(l\)
will refer to the prey midlength.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>All functions return a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> for use in <code><a href="action_predate.html">g3a_predate_fleet</a></code>'s <var>suitabilities</var> argument:</p><div class="section">
<h3 id="g-suitability-exponentiall-">g3_suitability_exponentiall50<a class="anchor" aria-label="anchor" href="#g-suitability-exponentiall-"></a></h3>
<p>A logarithmic dependence on the length of the prey as given by the following equation
    (note that the prey length dependence is actually dependant on the difference between the length of the prey and \(l_{50}\)):</p>
<p>$$
      \frac{1}{ 1 + e^{-\alpha (l - l_{50})} }
    $$</p><dl><dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(l_{50}\)</dt>
<dd><p>Length of the stock with a 50% probability of predation, from parameter <var>l50</var></p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-andersen">g3_suitability_andersen<a class="anchor" aria-label="anchor" href="#g-suitability-andersen"></a></h3>
<p>This is a more general suitability function that is dependant on the ratio of the predator length to the prey length as given by the following equation:</p>
<p>If \(p_3 = p_4\):
    $$
      p_0 + p_2 e^{-\frac{(x - p_1)^2}{p_4}}
    $$</p>
<p>Otherwise:</p>
<p>$$
      p_0
      + p_2 e^{-\frac{(x - p_1)^2}{p_4}} * \min(\max(p_1 - x, 0), 1)
      + p_2 e^{-\frac{(x - p_1)^2}{p_3}} * \min(\max(x, 0), 1)
    $$
    ...i.e if \(\log\frac{L}{l} &lt;= p_1\) then \(p_3\) used in place of \(p_4\).</p>
<p></p><dl><dt>\(x\)</dt>
<dd><p>\(\log\frac{p_5}{l}\)</p></dd>

      <dt>\(L\)</dt>
<dd><p>Vector of predator midlength for each lengthgroup</p></dd>

      <dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(p_0\) .. \(p_4\)</dt>
<dd><p>Function parameter <var>p0</var> .. <var>p4</var></p></dd>

      <dt>\(p_5\)</dt>
<dd><p>Function parameter <var>p5</var>, if unspecified uses \(L\), Vector of predator midlength for each lengthgroup.</p></dd>


</dl><p>NB: Specifying \(p_5\) is equivalent to using the <code>andersenfleet</code> function in gadget2.</p>
</div><p></p><div class="section">
<h3 id="g-suitability-andersenfleet">g3_suitability_andersenfleet<a class="anchor" aria-label="anchor" href="#g-suitability-andersenfleet"></a></h3>
<p>A simplified version of <code>g3_suitability_andersen</code>, suitable for predation by fleets,
    as the defaults do not rely on the predator's length.</p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-gamma">g3_suitability_gamma<a class="anchor" aria-label="anchor" href="#g-suitability-gamma"></a></h3>
<p>This is a suitability function that is more suitable for use when considering the predation by a fleet,
    where the parameter \(\gamma\) would represent the size of the mesh used by the fleet (specified in centimetres).</p>
<p>$$
      (\frac{l}{(\alpha - 1)\beta\gamma}) ^ {(\alpha - 1) e^{\alpha - 1 - \frac{l}{\beta\gamma}}}
    $$</p><dl><dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(\alpha\)</dt>
<dd><p>Function parameter <var>alpha</var></p></dd>

      <dt>\(\beta\)</dt>
<dd><p>Function parameter <var>beta</var></p></dd>

      <dt>\(\gamma\)</dt>
<dd><p>Function parameter <var>gamma</var></p></dd>


</dl><p>This is a suitability function that is more suitable for use when
    considering the predation by a fleet, where the parameter \(\gamma\)
    would represent the size of the mesh used by the fleet (specified in
    centimetres).</p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-exponential">g3_suitability_exponential<a class="anchor" aria-label="anchor" href="#g-suitability-exponential"></a></h3>
<p>This is a suitability function that has a logarithmic dependence on both the length of the predator and the length of the prey as given by the following equation:</p>
<p>$$
      \frac{\delta}{1 + e^{-\alpha - \beta l - \gamma L}}
    $$</p><dl><dt>\(L\)</dt>
<dd><p>Vector of predator midlength for each lengthgroup</p></dd>

      <dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(\alpha\)</dt>
<dd><p>Function parameter <var>alpha</var></p></dd>

      <dt>\(\beta\)</dt>
<dd><p>Function parameter <var>beta</var></p></dd>

      <dt>\(\gamma\)</dt>
<dd><p>Function parameter <var>gamma</var></p></dd>

      <dt>\(\delta\)</dt>
<dd><p>Function parameter <var>delta</var></p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-straightline">g3_suitability_straightline<a class="anchor" aria-label="anchor" href="#g-suitability-straightline"></a></h3>
<p>Returns a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> for use in predation function's <var>suitabilities</var> argument:</p>
<p>$$
      \alpha + \beta l
    $$</p><dl><dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(\alpha\)</dt>
<dd><p>Function parameter <var>alpha</var></p></dd>

      <dt>\(\beta\)</dt>
<dd><p>Function parameter <var>beta</var></p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-constant">g3_suitability_constant<a class="anchor" aria-label="anchor" href="#g-suitability-constant"></a></h3>
<p>Returns a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> for use in predation function's <var>suitabilities</var> argument:</p>
<p>$$
      \alpha
    $$</p><dl><dt>\(\alpha\)</dt>
<dd><p>Function parameter <var>alpha</var></p></dd>


</dl><p></p>
</div>

<p></p><div class="section">
<h3 id="g-suitability-richards">g3_suitability_richards<a class="anchor" aria-label="anchor" href="#g-suitability-richards"></a></h3>
<p>Returns a <a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a> for use in predation function's <var>suitabilities</var> argument:</p>
<p>$$
      {\big( \frac{p_3}{1 + e^{-p_0 - p_1 l - p_2 L}} \big)}^{\frac{1}{p_4}}
    $$</p><dl><dt>\(L\)</dt>
<dd><p>Vector of predator midlength for each lengthgroup</p></dd>

      <dt>\(l\)</dt>
<dd><p>Vector of stock midlength for each lengthgroup</p></dd>

      <dt>\(p_0\) .. \(p_4\)</dt>
<dd><p>Function parameter <var>p0</var> .. <var>p4</var></p></dd>


</dl><p>This is an extension to g3_suitability_exponential.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://gadget-framework.github.io/gadget2/userguide/chap-stock.html#sec-suitability" class="external-link">https://gadget-framework.github.io/gadget2/userguide/chap-stock.html#sec-suitability</a>,</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">ling_imm</span> <span class="op">&lt;-</span> <span class="fu"><a href="stock.html">g3_stock</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>species <span class="op">=</span> <span class="st">'ling'</span>, <span class="st">'imm'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">156</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="stock_age.html">g3s_age</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ling_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="stock.html">g3_stock</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>species <span class="op">=</span> <span class="st">'ling'</span>, <span class="st">'mat'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">156</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="stock_age.html">g3s_age</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">igfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="stock.html">g3_fleet</a></span><span class="op">(</span><span class="st">'igfs'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">igfs_landings</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>year<span class="op">=</span><span class="fl">1990</span><span class="op">:</span><span class="fl">1994</span>, step<span class="op">=</span><span class="fl">2</span>, area<span class="op">=</span><span class="fl">1</span>, total_weight<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            area_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>`1` <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate a fleet predation action using g3_suitability_exponentiall50</span></span></span>
<span class="r-in"><span><span class="va">predate_action</span> <span class="op">&lt;-</span> <span class="fu"><a href="action_predate.html">g3a_predate_fleet</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">igfs</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">ling_imm</span>, <span class="va">ling_mat</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    suitabilities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        ling_imm <span class="op">=</span> <span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'lln.alpha'</span>, by_stock <span class="op">=</span> <span class="st">'species'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'lln.l50'</span>, by_stock <span class="op">=</span> <span class="st">'species'</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        ling_mat <span class="op">=</span> <span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'lln.alpha'</span>, by_stock <span class="op">=</span> <span class="st">'species'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="fu"><a href="params.html">g3_parameterized</a></span><span class="op">(</span><span class="st">'lln.l50'</span>, by_stock <span class="op">=</span> <span class="st">'species'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    catchability <span class="op">=</span> <span class="fu"><a href="action_predate.html">g3a_predate_catchability_totalfleet</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="timedata.html">g3_timeareadata</a></span><span class="op">(</span><span class="st">'igfs_landings'</span>, <span class="va">igfs_landings</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can use g3_eval to directly calculate values for a stock:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="eval.html">g3_eval</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.2</span>, l50 <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    stock <span class="op">=</span> <span class="fu"><a href="stock.html">g3_stock</a></span><span class="op">(</span><span class="st">'x'</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         0:10        10:20        20:30        30:40        40:50        50:60 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.670142e-05 1.233946e-04 9.110512e-04 6.692851e-03 4.742587e-02 2.689414e-01 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        60:70        70:80        80:90       90:100      100:Inf </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7.310586e-01 9.525741e-01 9.933071e-01 9.990889e-01 9.998766e-01 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "force_vector" "numeric"     </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Plots</span></span></span>
<span class="r-in"><span><span class="va">suit_plot</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">fn</span>,</span></span>
<span class="r-in"><span>    <span class="va">stock</span> <span class="op">=</span> <span class="fu"><a href="stock.html">g3_stock</a></span><span class="op">(</span><span class="st">'x'</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="va">predator_length</span> <span class="op">=</span> <span class="fl">140</span> <span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span>, cex.main <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="stock.html">g3_stock_def</a></span><span class="op">(</span><span class="va">stock</span>, <span class="st">'midlen'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="stock.html">g3_stock_def</a></span><span class="op">(</span><span class="va">stock</span>, <span class="st">'midlen'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    main<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/deparse.html" class="external-link">deparse1</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/body.html" class="external-link">body</a></span><span class="op">(</span><span class="va">fn</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">for</span> <span class="op">(</span><span class="va">a</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">cols</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="stock.html">g3_stock_def</a></span><span class="op">(</span><span class="va">stock</span>, <span class="st">'midlen'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="eval.html">g3_eval</a></span><span class="op">(</span><span class="fu">fn</span><span class="op">(</span><span class="va">a</span><span class="op">)</span>, stock <span class="op">=</span> <span class="va">stock</span>, predator_length <span class="op">=</span> <span class="va">predator_length</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="st">"o"</span>, col <span class="op">=</span> <span class="va">cols</span><span class="op">[[</span><span class="va">a</span><span class="op">]</span><span class="op">]</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="kw">function</span> <span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="fu">g3_suitability_exponentiall50</span><span class="op">(</span>alpha <span class="op">=</span> <span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span>, l50 <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="kw">function</span> <span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="fu">g3_suitability_andersen</span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>, <span class="fl">1</span>, p3 <span class="op">=</span> <span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">140</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="kw">function</span> <span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="fu">g3_suitability_andersen</span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0.1</span>, p4 <span class="op">=</span> <span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span>, <span class="fl">140</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="kw">function</span> <span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="fu">g3_suitability_gamma</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">2</span> <span class="op">+</span> <span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span>, beta <span class="op">=</span> <span class="fl">1</span>, gamma <span class="op">=</span> <span class="fl">40</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="kw">function</span> <span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="fu">g3_suitability_exponential</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.01</span> <span class="op">*</span> <span class="va">a</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="kw">function</span> <span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="fu">g3_suitability_straightline</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.1</span>, beta <span class="op">=</span> <span class="fl">0.01</span> <span class="op">*</span> <span class="va">a</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="kw">function</span> <span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="fu">g3_suitability_constant</span><span class="op">(</span><span class="va">a</span> <span class="op">*</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">suit_plot</span><span class="op">(</span><span class="kw">function</span> <span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="fu">g3_suitability_richards</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.05</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.1</span> <span class="op">*</span> <span class="va">a</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="suitability-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jamie Lentin, Bjarki Thor Elvarsson, William Butler.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

